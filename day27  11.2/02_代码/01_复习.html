<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            跨域的解决方案
                所谓的跨域:
                    请求协议,请求url地址,服务器端口
                    这三项中,有一项不相同,就是跨域请求
                
                浏览器的同源策略:
                    浏览器默认只允许 同源请求 获取响应体数据

                解决同源策略,完成跨域请求
                    1, cors
                        后端程序设定,让后端文件数据,可以被请求
        
                    2, proxy
                        服务器代理
                            由服务器代理,完成跨域请求
                            我们只需设定好,代理名称和代理的url地址

                    3, jsonp方式
                        利用 script 标签 src属性 输入跨域请求地址,完成跨域请求
                        只能是 get 方式

                        基本过程:
                            1, 一定要有一个准备好的函数
                               这个函数,就是根据返回的数据结果,要执行的函数程序
                            2, 在 script 标签的src 属性中,设定属性值
                                属性值内容1: 请求的url跨域地址
                                属性值内容2: 拼接的参数: 一定有回调函数的名称

            瀑布流   
                代理 堆糖地址 在请求的open()中,设定代理名称,服务器完成跨域请求
                带 代理名称 之后, 拼接 ?问号之后的参数
                
                核心:
                    1, 通过 请求 获取 堆糖 接口的数据,根据数据生成页面内容
                        (1) , 每次根据数据,生成一个li,将li写入最矮的ul
                        (2) , 请求时,因为网速问题,图片不会在第一时间加载
                              会造成影响li以及ul高度问题
                              根据 图片的原始比例,原始大小,设定li的高度
                    2, 添加 页面滚动监听事件
                        (1) , 获取 各种高度数据
                            上卷的高度  视窗窗口的高度  自定义的预留高度  最矮ul的高度   

                        (2) , 判断
                            上卷的高度 + 视窗窗口的高度 + 自定义的预留高度 > 最矮ul的高度   
                                证明页面要运动到底部了,需要发起新的请求,获取新的数据,生成新的页面
            
            
            模拟百度搜索栏         

                    1, input输入框,输入数据,触发 input事件
                    2, 向 百度搜索栏 发送请求 获取 关键词搜索结果
                        如果 没有匹配的结果 隐藏 ul下拉内容
                        如果 有内容,根据内容,生成 li 写入 ul
                    数据的获取方法
                        创建一个 script标签
                        设定 src 属性 和 属性值 
                            百度搜索接口的请求地址,拼接 我们的参数
                                参数:  wd  关键词   
                                       cb  执行的函数程序
                                       _   时间戳
                        将 script 标签 写入到 body的最下方
                        再 删除刚刚写入的 script标签
                    
            函数的防抖
                定义一个开关变量,如果开关变量是 true 就执行程序,并且给变量赋值false 
                                如果开关变量是 false 执行 return 终止之后的程序执行
                执行第一次请求

                效果是:
                    上一个请求没有结束,下一个请求不会开始

                瀑布流应用:
                    页面运动,会一次触发多个 scroll事件
                    在请求结束,生成新的页面之前,不会再发送新的请求
                    页面运动,会触发多个 scroll事件 但是,只会发送一次请求
                
            函数的节流
                在执行程序之前,使用 clearInterval() 清除之前生成的异步请求
                执行最后一次请求

                效果是:
                    只会执行最后一个请求,之前的请求都不会执行
                百度搜索栏应用:
                    输入的内容,速度过快,或者,输入拼音执行中文搜索
                    会每一次输入都触发一次搜索
                    一直输入,一直触发事件,一直清楚之前的异步程序
                    最终,输入结束,只会触发最后一个输入,发送的请求



            不管是函数的防抖还是节流,你要执行的程序,一定要放在一个异步程序中
            核心都是为了 减少冗余的请求次数,减轻服务器的请求压力

            htmlcss,也有减少请求次数的处理方案
                精灵图 --- 将多个图片,整合成一张大图片,
                           n个图片,n次请求,现在一次请求实现

        */

    </script>
</body>
</html>