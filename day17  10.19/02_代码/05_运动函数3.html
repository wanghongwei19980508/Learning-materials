<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        div {
            width: 100px;
            height: 100px;
            background: pink;
            position: fixed;
            top: 150px;
            left: 100px;
        }
    </style>
</head>

<body>
    <button>开始</button>
    <div></div>

    <script src="./tools.js"></script>
    <script>
        /*
            运动函数1:
                解决的问题:
                    1, 通过累加 数据的方式,将css属性值的改变,逐步完成实现
                       执行效果看似动画
                    2, 通过参数 执行动画的标签对象
                               执行的属性
                            
                    3, 运动执行完毕,执行的程序

                没有解决的问题
                    1, 初始值现在是固定数值
                        需要获取标签的原始属性的数据
                        获取的属性,是需要改变css样式的属性
                        这个属性的初始值

                    2, 最终数值是固定数值
                        作为一个参数,输入

                新增问题1: 如果是多属性运动,怎么办?
                    每一个运动的属性,都要匹配一个最终值,必须是键值对的形式
                        一个属性 配对一个 最终值
                    使用 对象 来 存储 运动属性和最终值
                    

        */

        var oDiv = document.querySelector('div');
        var oBtn = document.querySelector('button');


        // 点击button按钮,执行 运动函数
        oBtn.addEventListener('click', () => {
            move(oDiv, {top:500 , left:400 , width:500 , height:500});

        })
        // 第二个参数,必须是一个对象的形式
        // 对象的属性,是需要运动的css样式的属性
        // 对象的属性值,是需要运动的css样式的属性的属性值
        // {left:500 , top:400 , width: 500 , height: 500}

        function move(element, typeObj) {
            // 参数2,typeObj中,属性是需要运动的属性,属性值是需要运动的属性值
            // 需要对参数2 ,typeObj 要循环遍历
            // 对象,使用 for...in 循环 
            // 自定义变量,存储的是对象的属性,也就是运动的css样式的属性
            // typeObj[type] 是 对象的属性值,也就是运动的最终值
            // {left:500 , top:400 , width: 500 , height: 500}
            // type 是 :          left  top   width   height 
            // typeObj[type] 是   500   400   500     500

            // for..in循环,必须使用 let 定义循环变量,不能使用var 定义循环变量
            // let 定义的循环变量,每次循环都会生成一个独立,不同的,相互不影响的循环变量,存储独立的数值
            // 循环四次,就会生成4个循环变量,type,分别存储 left  top  width  height
            // 如果使用 var 定义循环变量,整个循环就只有一个循环变量,type,
            // 每次都执行重复赋值,最终 type 执行时,只会存储最后一个属性 height
            for(let type in typeObj){
                // 第一次 循环 执行定时器 type : left 获取的是 left 初始值  typeObj[type] 是最终值 是 500
                // 第二次 循环 执行定时器 type : top  获取的是 top  初始值  typeObj[type] 是最终值 是 400
                // 第三次 循环 执行定时器 type : width获取的是 width初始值  typeObj[type] 是最终值 是 500
                // 第四次 循环 执行定时器 type : height获取的是 height初始值  typeObj[type] 是最终值 是 500
                setInterval(() => {
                    // 1, 获取初始值 
                    let startVal = parseInt(myGetStyle(element, type));

                    // 2, 累加数值
                    startVal += 10;

                    // 3, 将累加之后的数值,赋值给标签css样式的属性值
                    element.style[type] = startVal + 'px';

                    // 4, 判断,如果到了最终目标位置,停止定时器
                    // 暂时先不管停止的事儿

                }, 30)
            }


            
        }

        /*
            总结:
            
            解决的问题
                1, 初始值的问题:
                    每次执行定时器,通过定义的函数,获取标签,要执行运动的css样式的属性值

                2, 最终值的问题:
                    使用一个参数来解决

            新的问题:
                如果是 两个属性 要同时执行运动效果,怎么办?

                解决方案:
                    第二个参数,使用对象,以键值对的形式,输入,需要运动的属性和最终运动位置的最终数值

                    在move函数中,通过循环遍历,来获取每一个单元,运动的属性和最终值

                    每次执行一个 定时器 , 完成运动效果

                    有几个运动属性,就会生成几个定时器
                    
                    定义循环变量,必须使用 let 关键词声明

            运动函数3,新的问题:
                    每次累加改变的数值,都是一个正数,只能变大,不能变小,只能右移下移,不能左移上移

                    
                
        */

    </script>
</body>

</html>