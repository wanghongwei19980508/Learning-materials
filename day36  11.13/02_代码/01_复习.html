<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            内置模块
                nodejs已经定义好的模块,只要通过 require() 加载就可以使用

                fs
                    加载内置模块
                    const fs = require('fs');

                    使用内置模块

                    异步读取
                    fs.readFile( '路径' , 'utf8' , (err,data)=>{} )
                    
                    同步读取
                    fs.readFileSync( '路径' , 'utf8' , (err,data)=>{} )

                    读取时: 如果不设定编码格式 默认是 Buffer 格式 两位 十六进制数值
                            如果成功: err 存储 null
                            如果失败: data 存储 undefined


                    异步写入
                    fs.writeFile( '路径' , '内容' , ()=>{} )

                    同步写入
                    fs.writeFileSync( '路径' , '内容' , ()=>{} )

                    写入时: 全覆盖写入,写入内容会覆盖之前的内容
                            如果需要,新增内容,必须要先读取原始内容,拼接新内容之后,再做写入
                            即使文件不存在,也会创建一个文件,并且写入内容
                       

                http

                    加载内置模块
                    const http = require('http');

                    使用内置模块

                    创建服务器
                    const server = http.createServer((req,res)=>{
                        req 存储请求信息
                            req.url 就是 地址栏中输入的请求url地址

                        res 设定响应信息
                            res.end() 设定响应请求的内容

                    })

                    设定监听端口
                    server.listen( 端口 , ()=>{监听成功之后执行的程序} )







                错误优先
                    在后端语言中,往往需要,先确保之前的程序都执行成功,再执行之后的程序
                    js中 有 throw() 方法 
                    向 程序 抛出 错误信息 并且终止 之后程序的执行


            第三方模块
                所谓第三方模块,是别人写好的 模块 我们需要下载 之后 通过 require() 加载使用
                    
                第三方模块 / 依赖包 下载
                    通过 nodejs 本身 自带的 下载工具 npm 来下载

                    npm 的配置 配置设定下载地址
                        1, 通过 cmd 中输入 命令行 切换 下载地址
                            npm config set registry https://registry.npm.taobao.org

                        2, 设定 npm 切换为 cnpm
                            下载速度比 npm 更快 但是有些依赖包,使用cnpm无法下载
                            npm install -g cnpm --registry=https://registry.npm.taobao.org

                        3, 下载 nrm 切换 npm 地址 --- 不推荐
                            下载 全局依赖包 nrm 
                                npm i -g nrm

                            nrm test          测试镜像下载速度
                            nrm use 镜像名称   切换镜像地址

                    npm 下载步骤和常用下载命令
                        1, 创建 项目文件夹
                            src   存储源文件
                            dist  存储压缩文件 --- 上线时使用的文件夹

                        2, 初始化文件夹
                            npm init -y   自动初始化文件夹
                            npm init      手动初始化文件夹 手动输入配置内容

                            初始化之后,文件夹中,会自动创建关键文件
                                package.json 
                                    存储项目依赖包信息
                                    配置 依赖包 配置项

                        3, 常用下载命令
                            (1) 下载依赖包

                                下载全局依赖包
                                    npm install --global 包名  
                                    npm install --global 包名@版本号
                                    npm i -g 包名  
                                    npm i -g 包名@版本号  

                                下载项目依赖包
                                    npm install 包名
                                    npm install 包名@版本号
                                    npm i 包名
                                    npm i 包名@版本号

                                    npm i --save 包名  旧版本语法
                                    npm i -S 包名      旧版本语法

                                    一直使用的依赖包,开发,上线都要用的
                                    如果分不清楚,就安装为 项目依赖

                                下载开发依赖
                                    npm install --save-dev 包名
                                    npm i -D 包名

                                    开发时会用,上线了就不用了
                                    gulp 实际上应该是 开发依赖包

                            (2) 通过 package.json 安装依赖包

                                自动初始化文件夹,并且安装 所有的依赖包( 包括项目和开发依赖 )
                                    npm install
                                    npm i
                                    开发中 常用的命令

                                
                                自动初始化文件夹,并且安装 项目依赖
                                    npm install-production 
                                    项目上线时使用的命令

                            (3) 卸载依赖包

                                卸载项目依赖包
                                    npm uninstall 包名
                                    npm un 包名

                                卸载全局加依赖包
                                    npm uninstall --global 包名
                                    npm un -g 包名

                            (4) 安装失败,清除缓存
                                npm cache clean --force
                                npm cache clean -f
                                npm cache verify
                                    

            gulp
                是一款 自动化 打包工具
                设定好 配置文件 gulpfile.js 
                会自动执行打包压缩,将 打包压缩之后的文件,存储到指定的位置

                还可以 编辑 sass less 等文件,转化为 css文件
                
                还可以搭建简易服务器

                gulp 的使用步骤
                    1, 安装全局gulp依赖包
                        npm i -g gulp

                    2, 创建 项目文件夹
                       初始化文件夹
                       创建 gulpfile.js 文件
                        npm init -y

                    3, 下载相关依赖包
                        项目gulp依赖包
                            npm i gulp

                        css依赖包
                            npm i gulp-cssmin        打包压缩css文件的规范
                            npm i gulp-autoprefixer  自动添加css兼容前缀


                        js依赖包
                            npm i gulp-babel           将 ES6语法格式 转化为 ES5 语法格式
                            npm i @babel/preset-env    与 gulp-babel 配合的 依赖包
                            npm i @babel/core          与 gulp-babel 配合的 依赖包

                            npm i gulp-uglify      将 ES5语法的 js 文件夹压缩

                        html依赖包
                            npm i gulp-htmlmin

                        服务器依赖包
                            npm i gulp-webserver


                        删除依赖包
                            npm i del

                    4, 去 gulpfile.js 文件中 设定相应的配置
                        4-1 下载加载所有的依赖包
                            js依赖包,下载了四个,只要加载两个
                                gulp-babel  gulp-uglify
                                gulp-babel中 自己加载了另外两个依赖包

                        4-2 配置相关的打包压缩规范
                            (1)  css 要在 package.json 中 添加配置项
                                "browserslist":[
                                    "last 2 version",    所有浏览器都兼容最新的两个版本,其他版本不考虑兼容
                                    "FireFox > 40",      独立设定某一个浏览器的兼容版本, 火狐浏览器兼容 40 以上版本
                                    "IOS > 7"            苹果浏览器 兼容 7 以上版本
                                ]

                            (2)  js babel() 中要设定 配置项
                                babel( {presets:['@babel/env']} )

                            (3)  html html({}) 中要设定配置项 以对象形式设定
                                removeAttributeQuotes:true,          // 删除属性中的双引号
                                removeComments:true,                 // 删除注释
                                removeScriptTypeAttributes:true,     // 删除<script>的type="text/javascript"
                                removeStyleLinkTypeAttributes:true,  //删除<style>和<link>的type="text/css" 
                                collapseBooleanAttributes:true,      // 布尔属性,只写属性,不写属性值
                                collapseWhitespace:true,             // 删除标签之间的空格
                                minifyCSS:true,                      // 压缩内部css样式
                                minifyJS:true,                       // 压缩内部js代码

                            (4)  服务器 webserver({}) 设定配置 
                                host:'127.0.0.1',           // 服务器地址
                                port:'8080',                // 端口号
                                open:'./pages/index.html'   // 默认执行显示的文件
                                livereload:true,            // 热启动,代码有改变,自动刷新页面

                            (5)  删除 del() 设定删除文件路径
                                del('[./src/dist]')

                        4-3 设定监听程序
                            gulp.watch( '监听路径' , 打包规范函数名称 )

                        4-4 设定导出的默认程序
                            module.exports.default = gulp.series(
                                先删除
                                再同时打包 gulp.parallel()
                                在启动服务器
                                最后监听
                            )



        */  
    </script>
</body>
</html>